{"version":3,"file":"file.controller.js","sourceRoot":"","sources":["../../src-server/app/controllers/file.controller.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,MAAY,OAAO,WAAM,SAAS,CAAC,CAAA;AACnC,4BAAkD,WAAW,CAAC,CAAA;AAC9D,gCAA2B,2BAA2B,CAAC,CAAA;AAEvD,MAAM,MAAM,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AACjC,MAAM,MAAM,GAAG,MAAM,EAAE,CAAC;AAIxB;IAEE,YAAoB,YAA0B;QAA1B,iBAAY,GAAZ,YAAY,CAAc;IAC9C,CAAC;IAGD,MAAM,CAAC,GAAqB,EAAE,GAAoB;QAEhD,IAAI,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC;QAEtB,IAAI,QAAQ,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;QAElC,IAAI,CAAC,YAAY,CAAC,kBAAkB,CAAC,GAAG,CAAC,IAAI,EAAE,SAAS,GAAG,cAAc,EAAE,QAAQ,EACjF,CAAC,GAAG,EAAE,QAAQ;YACZ,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;gBACR,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YAC5B,CAAC;YACD,IAAI,CAAC,CAAC;gBACJ,GAAG,CAAC,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,CAAC;YAChC,CAAC;QACH,CAAC,CAAC,CAAA;IAEN,CAAC;AACH,CAAC;AAlBC;IAAC,0BAAc,CAAC,MAAM,EAAE,SAAS,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC;;;;4CAAA;AAN7D;IAAC,+BAAmB,CAAC,WAAW,CAAC;;kBAAA;AACpB,sBAAc,iBAuB1B,CAAA","sourcesContent":["import * as express from \"express\";\nimport {CamembertController, CamembertRoute} from \"camembert\";\nimport {ImageService} from \"../services/image.service\";\n\nconst multer = require('multer');\nconst upload = multer();\n\n\n@CamembertController('/api/file')\nexport class FileController {\n\n  constructor(private imageService: ImageService) {\n  }\n\n  @CamembertRoute(\"POST\", \"/upload\", [upload.single('file')])\n  upload(res: express.Response, req: express.Request) {\n\n    let date = new Date();\n\n    let fileName = date.toISOString();\n\n    this.imageService.saveMultipartImage(req.body, __dirname + '/../../files', fileName,\n      (err, filePath) => {\n        if (err) {\n          res.status(500).send(err);\n        }\n        else {\n          res.send(filePath + ' Saved');\n        }\n      })\n\n  }\n}\n"]}